import { DocImage, Steps, Step, Details } from "@doc";
import connectButtonImage from "./buy-in-connect-btn.png";
import buyModalImage from "./buy-modal.png";
import buyModalImageLight from "./buy-modal-light.png";
import { Tabs, TabsList, TabsTrigger, TabsContent } from "@/components/ui/tabs";

# ConnectButton

thirdweb Pay is available by default with [`ConnectButton`](/typescript/v5/react/components/ConnectButton) component.

When users log in with `ConnectButton`, they'll be able to onramp and purchase crypto directly from the logged in Connect interface by clicking on the "Buy" button.

## Example

```tsx
<ConnectButton client={client} />
```

<Steps>

<Step title="Details Modal of ConnectButton">

User can click on "Buy" button to open the thirdweb Pay modal to purchase crypto.

<DocImage src={connectButtonImage} />

</Step>

<Step title="thirdweb Pay UI">
	<DocImage src={buyModalImage} />
</Step>

</Steps>

## Customization for Pay

### Theme

Set the theme for the `ConnectButton` component with the `theme` prop. By default it is set to `"dark"`

<Tabs defaultValue="tab-1">
	<TabsList>
		<TabsTrigger value="tab-1"> Dark </TabsTrigger>
		<TabsTrigger value="tab-2"> Light </TabsTrigger>
		<TabsTrigger value="tab-3"> Custom Theme </TabsTrigger>
	</TabsList>
	<TabsContent value="tab-1">

```tsx
<ConnectButton client={client} theme="dark" />
```

<DocImage src={buyModalImage} />

</TabsContent>

<TabsContent value="tab-2">

```tsx
<ConnectButton client={client} theme="light" />
```

<DocImage src={buyModalImageLight} />

</TabsContent>

<TabsContent value="tab-3">

You can pass a custom theme object of type [`Theme`](/references/typescript/v5/Theme) to the `theme` prop.

You can also import [`lightTheme`](/references/typescript/v5/lightTheme)
or [`darkTheme`](/references/typescript/v5/darkTheme)
functions to use a default light or dark theme as base and overrides parts of it.

```ts
import { lightTheme } from "thirdweb/react";

const customTheme = lightTheme({
	colors: {
		modalBg: "red",
	},
});
```

```tsx
<ConnectButton client={client} theme={customTheme} />
```

</TabsContent>

</Tabs>

### Set default token for purchase

In the case you want your users to purchase a specific token, you can choose to select it by default with `payOptions.prefillBuy` prop

#### Examples

<Details summary="Set an ERC-20 token" >

Example: Set USDC on polygon as default token for purchase

```tsx
import { polygon } from "thirdweb/chains";

<ConnectButton
	client={client}
	detailsModal={{
		payOptions: {
			prefillBuy: {
				token: {
					address: "0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359",
					name: "USD Coin",
					symbol: "USDC",
					icon: "...", // optional
				},
				chain: polygon,
			},
		},
	}}
/>;
```

</Details>

<Details summary="Set a Native Token" >

You can leave out the `token` field to set a native token as default token for purchase and simply set the `chain` field.

Example: Set Base mainnet native token as default token for purchase

```tsx
import { base } from "thirdweb/chains";

<ConnectButton
	client={client}
	detailsModal={{
		payOptions: {
			prefillBuy: {
				chain: base,
			},
		},
	}}
/>;
```

</Details>

<Details summary="Set a default token amount" >

By default, No buy amount is set. You can suggest a default buy amount by setting the `amount` field.

Example: Set 0.1 Base ETH (native token) by default

```tsx
import { base } from "thirdweb/chains";

<ConnectButton
	client={client}
	detailsModal={{
		payOptions: {
			prefillBuy: {
				chain: base,
				amount: "0.1", // suggest 0.1 Base
			},
		},
	}}
/>;
```

</Details>

<Details summary="Disable Ediiting token / amount / chain" >

You can disable editing of token, amount and / or chain by setting the `allowEdits` field.

```tsx
import { base } from "thirdweb/chains";

<ConnectButton
	client={client}
	detailsModal={{
		payOptions: {
			prefillBuy: {
				chain: base,
			},
			allowEdits: {
				amount: true, // allow editing buy amount
				token: false, // disable selecting buy token
				chain: false, // disable selecting buy chain
			},
		},
	}}
/>;
```

</Details>

### Customize Tokens

By default, Pay UI shows a few popular tokens for Pay supported chains

You can override this list of tokens shown in Pay UI by using `supportedTokens` prop

`supportedTokens` prop is an object that maps chainId to an array of tokens

Example: Override the tokens for Base Mainnet ( chaid id 84532 )

```tsx
import { ConnectButton } from "thirdweb/react";
import { NATIVE_TOKEN_ADDRESS } from "thirdweb";

<ConnectButton
	client={client}
	supportedTokens={{
		84532: [
			{
				address: "0x...", // token contract address
				name: "Dai Stablecoin",
				symbol: "DAI",
				icon: "https://...",
			},
		],
	}}
/>;
```

### Disabling payment methods

By default, Both "Credit Card" and "Crypto" payment methods are enabled in Pay UI.

You can disable either of them as shown below:

<Details summary="Disable Crypto" >

```tsx
<ConnectButton
	client={client}
	detailsModal={{
		payOptions: {
			buyWithCrypto: false,
		},
	}}
/>
```

</Details>

<Details summary="Disable Credit Card" >

```tsx
<ConnectButton
	client={client}
	detailsModal={{
		payOptions: {
			buyWithFiat: false,
		},
	}}
/>
```

</Details>

### Customize Credit Card payment

<Details summary="Enable Test Mode" >

Test mode allows you to test the credit card payment flow without actually making a payment using a test card.

```tsx
<ConnectButton
	client={client}
	detailsModal={{
		payOptions: {
			buyWithFiat: {
				testMode: true,
			},
		},
	}}
/>
```

</Details>

### Customize Crypto payment

<Details summary="Set a ERC-20 token as default token for payment" >

Example: Set USDC on polygon as default token for crypto payment

```tsx
import { base } from "thirdweb/chains";

<ConnectButton
	client={client}
	detailsModal={{
		payOptions: {
			buyWithCrypto: {
				prefillSource: {
					token: {
						address: "0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359",
						name: "USD Coin",
						symbol: "USDC",
						icon: "...", // optional
					},
					chain: polygon,
				},
			},
		},
	}}
/>;
```

</Details>

<Details summary="Set a Native token as default token for payment" >

Example: Set Base Mainnet native token as default source token for crypto payment

```tsx
import { base } from "thirdweb/chains";

<ConnectButton
	client={client}
	detailsModal={{
		payOptions: {
			buyWithCrypto: {
				prefillSource: {
					chain: base,
				},
			},
		},
	}}
/>;
```

</Details>

<Details summary="Set a payment token and disable token/chain selection" >

Example: Set Base Mainnet native token as default source token for crypto payment and disable selecting any other token

```tsx
import { base } from "thirdweb/chains";

<ConnectButton
	client={client}
	detailsModal={{
		payOptions: {
			buyWithCrypto: {
				prefillSource: {
					chain: base,
				},
				allowEdits: {
					token: false, // disable selecting source token
					chain: false, // disable selecting source chain
				},
			},
		},
	}}
/>;
```

</Details>
